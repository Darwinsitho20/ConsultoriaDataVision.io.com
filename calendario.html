<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Calendario - DataVision Consulting</title>
<style>
    :root {
        --bg: #0f2027;
        --card: rgba(255,255,255,0.07);
        --accent: #00ffcc;
        --radius: 14px;
        --transition: .25s;
        --text: #e6eefd;
    }
    * { box-sizing: border-box; }
    body {
        margin: 0;
        font-family: 'Segoe UI', system-ui, sans-serif;
        background: linear-gradient(135deg, #0f2027, #203a43);
        color: var(--text);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }
    .calendar-wrapper {
        width: 100%;
        max-width: 500px;
        background: var(--card);
        border-radius: var(--radius);
        padding: 25px 22px;
        position: relative;
        overflow: hidden;
    }
    h1 {
        margin: 0 0 12px;
        font-size: 1.8em;
        color: var(--accent);
        text-align: center;
    }
    .controls {
        display: flex;
        gap: 10px;
        justify-content: space-between;
        flex-wrap: wrap;
        margin-bottom: 14px;
    }
    .controls select, .controls button {
        padding: 8px 12px;
        border: none;
        border-radius: 8px;
        background: rgba(255,255,255,0.1);
        font-size: 0.9em;
        cursor: pointer;
        transition: background var(--transition);
        color: #fff;
    }
    .controls button:hover, .controls select:hover {
        background: rgba(255,255,255,0.15);
    }
    .weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        text-align: center;
        font-size: .75em;
        margin-top: 10px;
        gap: 4px;
    }
    .days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 4px;
        margin-top: 6px;
    }
    .day {
        padding: 10px 6px;
        border-radius: 6px;
        text-align: center;
        position: relative;
        cursor: pointer;
        font-size: .9em;
        background: rgba(255,255,255,0.03);
        transition: background .2s, transform .2s;
    }
    .day:hover {
        background: rgba(0,255,204,0.15);
        transform: translateY(-2px);
    }
    .day.selected {
        background: var(--accent);
        color: #0b0f13;
        font-weight: 700;
    }
    .info {
        margin-top: 16px;
        background: rgba(255,255,255,0.05);
        padding: 12px 14px;
        border-radius: 8px;
        font-size: .9em;
    }
    .nav {
        display: flex;
        gap: 6px;
    }
    .range {
        font-size: .7em;
        opacity: .9;
        text-align: center;
        margin-top: 4px;
    }
</style>
</head>
<body>

<div class="calendar-wrapper">
    <h1>Calendario</h1>
    <div class="controls">
        <div class="nav">
            <button id="prevYear">&laquo; Año</button>
            <button id="prevMonth">&lsaquo; Mes</button>
        </div>
        <div>
            <select id="monthSelect" aria-label="Seleccionar mes"></select>
            <select id="yearSelect" aria-label="Seleccionar año"></select>
        </div>
        <div class="nav">
            <button id="nextMonth">Mes &rsaquo;</button>
            <button id="nextYear">Año &raquo;</button>
        </div>
    </div>
    <div class="range">Navega entre los años 1900 y 2100. Selecciona una fecha para detalles.</div>
    <div class="weekdays">
        <div>D</div><div>L</div><div>M</div><div>M</div><div>J</div><div>V</div><div>S</div>
    </div>
    <div class="days" id="daysGrid"></div>
    <div class="info" id="selectedInfo">Fecha seleccionada: <strong id="selectedDate"></strong></div>
</div>

<script>
    const monthNames = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
    const daysGrid = document.getElementById('daysGrid');
    const monthSelect = document.getElementById('monthSelect');
    const yearSelect = document.getElementById('yearSelect');
    const selectedDateEl = document.getElementById('selectedDate');

    // Rango años
    const MIN_YEAR = 1900, MAX_YEAR = 2100;

    // Populate selects
    monthNames.forEach((m,i)=> {
        const o = document.createElement('option');
        o.value = i;
        o.textContent = m;
        monthSelect.appendChild(o);
    });
    for (let y = MAX_YEAR; y >= MIN_YEAR; y--) {
        const o = document.createElement('option');
        o.value = y;
        o.textContent = y;
        yearSelect.appendChild(o);
    }

    let current = new Date();
    if (current.getFullYear() < MIN_YEAR) current.setFullYear(MIN_YEAR);
    if (current.getFullYear() > MAX_YEAR) current.setFullYear(MAX_YEAR);
    let selected = new Date(current);

    function renderCalendar(date) {
        daysGrid.innerHTML = '';
        const year = date.getFullYear();
        const month = date.getMonth();
        monthSelect.value = month;
        yearSelect.value = year;

        const firstOfMonth = new Date(year, month, 1);
        const startDay = firstOfMonth.getDay(); // 0 domingo

        const daysInMonth = new Date(year, month + 1, 0).getDate();

        // Fill blanks before
        for (let i = 0; i < startDay; i++) {
            const blank = document.createElement('div');
            blank.className = 'day';
            blank.style.visibility = 'hidden';
            daysGrid.appendChild(blank);
        }

        // Days
        for (let d = 1; d <= daysInMonth; d++) {
            const dayEl = document.createElement('div');
            dayEl.className = 'day';
            dayEl.textContent = d;
            const thisDate = new Date(year, month, d);
            if (
                thisDate.getFullYear() === selected.getFullYear() &&
                thisDate.getMonth() === selected.getMonth() &&
                thisDate.getDate() === selected.getDate()
            ) {
                dayEl.classList.add('selected');
            }

            dayEl.addEventListener('click', () => {
                selected = new Date(year, month, d);
                renderCalendar(date);
                updateInfo();
            });
            daysGrid.appendChild(dayEl);
        }
    }

    function updateInfo() {
        const opts = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        selectedDateEl.textContent = selected.toLocaleDateString('es-CO', opts);
    }

    // Navigation handlers
    document.getElementById('prevMonth').addEventListener('click', () => {
        current.setMonth(current.getMonth() -1);
        clampCurrent();
        renderCalendar(current);
    });
    document.getElementById('nextMonth').addEventListener('click', () => {
        current.setMonth(current.getMonth() +1);
        clampCurrent();
        renderCalendar(current);
    });
    document.getElementById('prevYear').addEventListener('click', () => {
        current.setFullYear(current.getFullYear() -1);
        clampCurrent();
        renderCalendar(current);
    });
    document.getElementById('nextYear').addEventListener('click', () => {
        current.setFullYear(current.getFullYear() +1);
        clampCurrent();
        renderCalendar(current);
    });

    monthSelect.addEventListener('change', () => {
        current.setMonth(parseInt(monthSelect.value));
        clampCurrent();
        renderCalendar(current);
    });
    yearSelect.addEventListener('change', () => {
        current.setFullYear(parseInt(yearSelect.value));
        clampCurrent();
        renderCalendar(current);
    });

    function clampCurrent() {
        if (current.getFullYear() < MIN_YEAR) current.setFullYear(MIN_YEAR);
        if (current.getFullYear() > MAX_YEAR) current.setFullYear(MAX_YEAR);
    }

    // Inicializar
    renderCalendar(current);
    updateInfo();
</script>

</body>
</html>
